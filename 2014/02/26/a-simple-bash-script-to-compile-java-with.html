<!doctype html><html><head><meta charset="utf-8"><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="generator" content="Jekyll Polymer Theme"><title>A simple bash script to compile Java (with packages) (and possibly JUnit)</title><meta name="description" content="Compiling Java when you have your code organized into packages gets more complicated because you have to make sure that Java finds all of the correct files t..."><link rel="canonical" href="http://blog.juliaebert.com/jekyll-polymer/2014/02/26/a-simple-bash-script-to-compile-java-with.html"><link rel="alternate" type="application/rss+xml" title="Jekyll Polymer Theme" href="http://blog.juliaebert.com/jekyll-polymer/feed.xml"><meta name="theme-color" content="#607D8B"><link rel="manifest" href="/jekyll-polymer/manifest.json"><meta name="msapplication-TileColor" content="#FF5722"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="Jekyll Polymer Theme"><link rel="icon" sizes="192x192" href="/jekyll-polymer/images/touch/chrome-touch-icon-192x192.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Jekyll Polymer Theme"><link rel="apple-touch-icon" href="/jekyll-polymer/images/touch/apple-touch-icon.png"><meta name="msapplication-TileImage" content="/jekyll-polymer/images/touch/ms-touch-icon-144x144-precomposed.png"><link rel="stylesheet" href="styles/main.css"><link rel="stylesheet" href="styles/code-highlight.css"><link rel="stylesheet" href="/jekyll-polymer/scripts/lightbox/css/lightbox.css"><script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script><link rel="import" href="/jekyll-polymer/elements/elements.html"><style is="custom-style" include="shared-styles"></style></head><body unresolved="" class="fullbleed layout vertical"><span id="browser-sync-binding"></span><template is="dom-bind" id="app"><paper-drawer-panel id="paperDrawerPanel"><paper-scroll-header-panel drawer="" fixed=""><div class="wrapper"><nav-image src="/jekyll-polymer/images/material-bg-10.png" id="menu-img"></nav-image><paper-menu class="list" attr-for-selected="data-route" selected="" on-iron-select="onMenuSelect"><a href="/jekyll-polymer/"><iron-icon icon="home"></iron-icon><span>Home</span></a> <a href="/jekyll-polymer/about"><iron-icon icon="social:person"></iron-icon><span>About</span></a> <a href="/jekyll-polymer/archive"><iron-icon icon="history"></iron-icon><span>Archive</span></a> <a data-route="contact" href="/jekyll-polymer/feed.xml"><iron-icon icon="fa:rss"></iron-icon><span>RSS Feed</span></a></paper-menu><my-nav-subheader>Elsewhere</my-nav-subheader><paper-menu class="list" on-iron-select="onMenuSelect"><a href="http://juliaebert.com"><iron-icon icon="av:web"></iron-icon><span>My Website</span></a> <a href="https://github.com/jtebert"><iron-icon icon="fa:github"></iron-icon><span>My Github</span></a></paper-menu><div class="push"></div></div><div id="copyright-info">&copy; 2016, Julia Ebert</div></paper-scroll-header-panel><paper-scroll-header-panel main="" id="headerPanelMain" condenses="" keep-condensed-header=""><paper-toolbar id="mainToolbar" class="tall"><paper-icon-button id="paperToggle" icon="menu" paper-drawer-toggle=""></paper-icon-button><span class="space"></span>\<div class="top top-container"><my-search-bar class="top" id="search-input" searchjson="/jekyll-polymer/search.json"></my-search-bar></div><div class="middle middle-container"><div class="app-name">Jekyll Polymer Theme</div></div><div class="bottom bottom-container"><div class="bottom-title">TEEEEEEEEEEEEXT</div></div></paper-toolbar><div class="content"><style>
  body {
    background-color: #f9f9f9 !important;
  }
</style><div id="post"><h1 class="paper-font-display1">A simple bash script to compile Java (with packages) (and possibly JUnit)</h1><h4 class="paper-font-subhead" id="date">Feb 26, 2014</h4><div id="post-content"><p>Compiling Java when you have your code organized into packages gets more complicated because you have to make sure that Java finds all of the correct files to compile.</p><p>You can use a bash command to find all of the java files in the current folder and all subfolders:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash">find -name <span class="s2">"*.java"</span> &gt; sources.txt</code></pre></figure><p>You can then compile every file listed in the newly created sources.txt:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash">javac @sources.txt</code></pre></figure><p>Once it is compiled, you can run files that are either in the default package:</p><p>java MyClass</p><p>Or that are in a package <code class="highlighter-rouge">$PACKAGE</code>:</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash">java <span class="nv">$PACKAGE</span>.MyClass</code></pre></figure><p>You can also modify this to include a classpath and/or work with JUnit. Here is a complete example of compiling the package myPackage (contained in the subfolder of the current directory by the same name) with JUnit (in the directory above the current directory) and running tests that are both inside and outside the package.</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash">java -cp <span class="nv">$CLASSPATH</span> <span class="nv">$JUNITMAINCLASSPATH</span><span class="o">=</span><span class="s2">".:../junit.jar"</span>
<span class="nv">JUNITMAIN</span><span class="o">=</span><span class="s2">"org.junit.runner.JUnitCore"</span>

find -name <span class="s2">"*.java"</span> &gt; sources.txt

javac -cp <span class="nv">$CLASSPATH</span> @sources.txt

java -cp <span class="nv">$CLASSPATH</span> <span class="nv">$JUNITMAIN</span> BlackBoxTest
java -cp <span class="nv">$CLASSPATH</span> <span class="nv">$JUNITMAIN</span> myPackage.WhiteBoxTest</code></pre></figure><p>You can also make the script remove old .class files before compiling (which has caused weird things for me).</p><figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># Remove old class files</span>
find -name <span class="s2">"*.class"</span> &gt; old_class.txt
<span class="k">if</span> <span class="o">[</span> -s old_class.txt <span class="o">]</span>
    <span class="k">then
        </span>xargs -a old_class.txt -d<span class="s1">''</span><span class="se">\n</span><span class="s1">''</span> rm
<span class="k">fi</span></code></pre></figure></div><hr><div class="share section"><a href="https://facebook.com/sharer.php?u=http://blog.juliaebert.com/2014/02/26/a-simple-bash-script-to-compile-java-with.html" rel="nofollow" target="_blank" title="Share on Facebook"><paper-icon-button icon="fa:facebook"></paper-icon-button></a> <a href="https://plus.google.com/share?url=http://blog.juliaebert.com/2014/02/26/a-simple-bash-script-to-compile-java-with.html" rel="nofollow" target="_blank" title="Share on Google+"><paper-icon-button icon="fa:google-plus"></paper-icon-button></a> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http://blog.juliaebert.com/2014/02/26/a-simple-bash-script-to-compile-java-with.html&title=A simple bash script to compile Java (with packages) (and possibly JUnit)&summary=&source=http://blog.juliaebert.com" rel="nofollow" target="_blank" title="Share on LinkedIn"><paper-icon-button icon="fa:linkedin"></paper-icon-button></a> <a href="http://www.reddit.com/submit?url=http://blog.juliaebert.com/2014/02/26/a-simple-bash-script-to-compile-java-with.html&title=A simple bash script to compile Java (with packages) (and possibly JUnit)" rel="nofollow" target="_blank" title="Share on Reddit"><paper-icon-button icon="fa:reddit"></paper-icon-button></a> <a href="http://www.tumblr.com/share/link?url=http://blog.juliaebert.com/2014/02/26/a-simple-bash-script-to-compile-java-with.html&name={[ page.title }}&description=" rel="nofollow" target="_blank" title="Share on Tumblr"><paper-icon-button icon="fa:tumblr"></paper-icon-button></a> <a href="https://twitter.com/intent/tweet?text=A simple bash script to compile Java (with packages) (and possibly JUnit)&url=http://blog.juliaebert.com/2014/02/26/a-simple-bash-script-to-compile-java-with.html&via=&related=" rel="nofollow" target="_blank" title="Share on Twitter"><paper-icon-button icon="fa:twitter"></paper-icon-button></a></div><div class="section"><a href="/jekyll-polymer/2014/02/26/ssh-ftp-sftp-in-nautilus.html"><paper-button raised="" class="accent"><iron-icon icon="arrow-back"></iron-icon>Previous Post</paper-button></a> <a href="/jekyll-polymer/2014/03/05/the-simple-terminal-way-to-see-your-ip-address.html"><paper-button raised="" class="accent">Next Post<iron-icon icon="arrow-forward"></iron-icon></paper-button></a></div><div class="section"><div id="disqus_thread"></div></div><script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'juliaebert';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div></div></paper-scroll-header-panel></paper-drawer-panel><paper-toast id="toast"><span class="toast-hide-button" role="button" tabindex="0" onclick="app.$.toast.hide()">Ok</span></paper-toast></template><script src="/jekyll-polymer/scripts/jekyll-search.min.js" type="text/javascript"></script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script><script src="scripts/app.js"></script><script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','/jekyll-polymer/scripts/g-analyt.js','ga');
		
		ga('create', 'UA-54476418-1', 'auto');
		ga('send', 'pageview');
	</script><script type="text/javascript" src="/jekyll-polymer/scripts/lightbox/js/jquery-1.11.0.min.js"></script><script type="text/javascript" src="/jekyll-polymer/scripts/lightbox/js/lightbox.js"></script></body></html>